

import java.util.*;
import java.util.Scanner;

class PasswordInvalidException extends Exception{
    PasswordInvalidException(String s){
        super(s);
    }
}
public class Password {
	 
	    public static void doTestPass(String input) throws PasswordInvalidException
	    {
	        // Checking lower alphabet in string
	        int n = input.length();
	        boolean hasUpper = false;
	               boolean hasDigit = false, specialChar = false;
	        Set<Character> set = new HashSet<Character>(
	            Arrays.asList('!', '@', '#', '$', '%', '^', '&',
	                          '*', '(', ')', '-', '+'));
	        for (char i : input.toCharArray())
	        {
	           //for Upper Case
	            if (Character.isUpperCase(i)) {
	                hasUpper = true;
	                break;
	            }
	        
	        if(hasUpper==false){
	            throw new PasswordInvalidException("There must a an UpperCase");
	        }
	        
	       
	        //For checking Digit
           
                if (Character.isDigit(i)) {
                    hasDigit=false;
                    throw new PasswordInvalidException("Password Should not have numerics");

                } else {
                    hasDigit = false;
                }
            
	           
	           
            
	            if (set.contains(i))
	                specialChar = true;
	            
               
	            else {
	                specialChar= false;
	                throw new PasswordInvalidException("Password should have special character");

	        }
	    }
	     //for checking Length
        if (input.length() < 16) {

            throw new PasswordInvalidException("Password length should not be smaller then 16");
        } 
	       
	        if (hasDigit==false  && hasUpper && specialChar
	            && (n >= 16))
	       
	            System.out.print(" Password changed Succesfully");
	        
	       
            
	    }
	         
	 
	    // Driver Code
	    public static void main(String[] args)
	    {
	      Scanner sc=new Scanner(System.in);
	      System.out.println("Enter the Password");
	      String pass=sc.nextLine();
	      try {
	      doTestPass(pass);
	    }catch(Exception m){System.out.println("Exception occured: "+m);}
	      
	    System.out.println("Validation Done!");
	}
}
